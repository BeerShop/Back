var ColorSwitcher=function(){var a=this;return a.baliseLink=$('link[href*="app-blue"]'),a.switcher=null,a.currentColor="blue",a.isSized=1==$("#isSized").val(),a.colors=["blue","red","yellow","green","pink","white"],a.css={"#switcher":"position: fixed; top: 150px; right: -111px; z-index: 1000;",".switcher-container":"position: relative; width: 148px; height: 50px;",".color-selected":"width: 35px; padding: 10px 0 0 10px; position: absolute; z-index: 12; top: 5px; left: 5px; background-color: #eee; border: dashed 1px #999; border-right: none; border-top-left-radius: 4px; border-bottom-left-radius: 4px;",".colors":"width: 111px; padding: 10px 0 0 10px; position: absolute; top: 5px; left: 39px; background-color: #eee; border: dashed 1px #999; border-right: none; z-index: 11; border-bottom-left-radius: 4px;",".color-":"width: 20px; height: 20px; border: solid 1px #ccc; float: left; margin-right: 10px; margin-bottom: 10px; border-radius: 4px; cursor: pointer;",".color-class":{blue:"background-color: #2196F3;",red:"background-color: #F44336;",yellow:"background-color: #FFEB3B;",green:"background-color: #4CAF50;",pink:"background-color: #9C27B0;",white:"background-color: #ffffff;"},a:"color: #555"},a.init=function(){var b="";for(color in a.colors)a.colors[color]!=a.currentColor&&(b+='<div style="'+a.css[".color-"]+a.css[".color-class"][a.colors[color]]+'" class="color color-'+a.colors[color]+'" data-color="'+a.colors[color]+'"></div>');return a.switcher=$("<div>").attr("id","switcher").attr("style",a.css["#switcher"]).html('<div style="'+a.css[".switcher-container"]+'"><div class="color-selected" style="'+a.css[".color-selected"]+'"><div class="color color-'+a.currentColor+'" data-color="'+a.currentColor+'" style="'+a.css[".color-"]+a.css[".color-class"][a.currentColor]+'"></div></div><div class="colors" style="'+a.css[".colors"]+'"><div class="color-container">'+b+'</div><div class="clearfix"></div><div class="margin-top-10 text-center"><a href="?fixedWidth='+(a.isSized?"0":"1")+'" style="'+a.css["&"]+'">'+(a.isSized?'See "fullsize" version':'See "fixed&nbsp;width" version')+"</a></div></div></div>").hover(function(){a.switcher.animate({right:0},250)},function(){a.switcher.animate({right:"-111px"},250)}),a.switcher.find(".color").on("click",function(){var b=$(this).data("color");a.currentColor!=b&&(a.baliseLink.attr("href",a.baliseLink.attr("href").replace("app-"+a.currentColor,"app-"+b)),a.currentColor=b,a.switcher.find(".color-selected .color").appendTo(a.switcher.find(".colors .color-container")),$(this).appendTo(a.switcher.find(".color-selected")),a.save())}),$("body").append(a.switcher),a},a.save=function(){return localStorage&&localStorage.setItem("color",a.currentColor),a},a.load=function(){if(localStorage){var b=localStorage.getItem("color");a.switcher.find(".color-"+b).trigger("click")}return a},a.init().load()};